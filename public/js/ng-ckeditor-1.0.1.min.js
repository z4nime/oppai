/*
 * autor: Miller Augusto S. Martins
 * e-mail: miller.augusto@gmail.com
 * github: miamarti
 * */
(function(f,g){angular.module("ng.ckeditor",["ng"]).directive("ngCkeditor",function(){CKEDITOR.on("instanceCreated",function(c){var b=c.editor;if("simpleEditor"==b.element.getAttribute("class"))b.on("configLoaded",function(){b.config.removePlugins="colorbutton,find,flash,font, forms,iframe,image,newpage,removeformat, smiley,specialchar,stylescombo,templates";b.removeButtons="About";b.config.toolbarGroups=[{name:"editing",groups:["basicstyles","links"]},{name:"undo"},{name:"clipboard",groups:["selection",
"clipboard"]}]})});return{restrict:"E",link:function(c,b,a){b[0].innerHTML='<div id="'+a.bind+'"></div> <div class="totalTypedCharacters"></div>';var d={removeButtons:void 0!=a.removeButtons?"About,"+a.removeButtons:"About"};void 0!=a.removePlugins&&(d.removePlugins=a.removePlugins);void 0!=a.skin&&(d.skin=a.skin);setTimeout(function(){var e=CKEDITOR.appendTo(a.bind,d,"");e.on("change",function(c){eval("(function(){ scope."+a.bind+" = evt.editor.getData(); })()");void 0!=a.msnCount&&(b[0].querySelector(".totalTypedCharacters").innerHTML=
a.msnCount+" "+c.editor.getData().length)});c.$watch(a.bind,function(a){e.setData(a)})},500)}}})})(window,document);
